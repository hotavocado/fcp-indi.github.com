
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Installing C-PAC &mdash; C-PAC 0.3.9 Alpha documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.3.9 Alpha',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="C-PAC 0.3.9 Alpha documentation" href="index.html" />
    <link rel="next" title="Setting Up A Subject List" href="subject_list_config.html" />
    <link rel="prev" title="Welcome to C-PAC’s Documentation!" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="subject_list_config.html" title="Setting Up A Subject List"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s Documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.9 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installing-c-pac">
<h1>Installing C-PAC<a class="headerlink" href="#installing-c-pac" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="system-requirements">
<h3>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this headline">¶</a></h3>
<p>C-PAC is <strong>designed to run in a *nix-like environment</strong> and thus does not support Windows.  The C-PAC team actively tests C-PAC in Ubuntu Linux, although older versions of that distribution and other *nixes (such as Mac OS X) should work as well.   As a general rule, C-PAC can operate on any machine capable of reliably running <a class="reference external" href="http://afni.nimh.nih.gov/afni">AFNI</a> and <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a>.</p>
</div>
<div class="section" id="hardware-requirements">
<h3>Hardware Requirements<a class="headerlink" href="#hardware-requirements" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>A multiprocessor/multicore system (highly recommended)</li>
<li>8 GB of RAM (for computationally-intensive processes such as anatomical registration using ANTS)</li>
<li>5.7 GB of free hard disk space (8.3 GB with ANTs)</li>
</ul>
</div>
</div>
<div class="section" id="a-note-about-the-nix-command-line">
<h2>A Note About the *nix Command Line<a class="headerlink" href="#a-note-about-the-nix-command-line" title="Permalink to this headline">¶</a></h2>
<p><strong>This user guide assumes a basic level of experience using the command line.</strong> If you are new to the command line (also known as the terminal), the resources below will help you get started:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.davidbaumgold.com/tutorials/command-line/">Getting to Know the Command Line</a></li>
<li>Terminals for Absolute Beginners (<a class="reference external" href="http://glennstovall.com/blog/2012/02/15/terminals-for-absolute-beginners/">Part 1</a>) (<a class="reference external" href="http://glennstovall.com/blog/2012/03/07/terminals-for-absolute-beginners-part-2/">Part 2</a>)</li>
<li><a class="reference external" href="http://linuxcommand.org/lc3_learning_the_shell.php">Learning the Shell</a></li>
<li><a class="reference external" href="http://www.ee.surrey.ac.uk/Teaching/Unix/index.html">Unix Tutorial for Beginners</a></li>
<li><a class="reference external" href="http://unixmages.com/">Unix for the Beginning Mage</a></li>
</ul>
</div>
<div class="section" id="installation-overview">
<h2>Installation Overview<a class="headerlink" href="#installation-overview" title="Permalink to this headline">¶</a></h2>
<p>If you are using Ubuntu (version 12/14) you can download  and run <a class="reference external" href="https://github.com/FCP-INDI/C-PAC/blob/master/scripts/cpac_install.sh?raw=true">cpac_install.sh</a> with the following terminal commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget https://github.com/FCP-INDI/C-PAC/blob/master/scripts/cpac_install.sh?raw<span class="o">=</span><span class="nb">true</span>
mv cpac_install.sh?raw<span class="o">=</span><span class="nb">true </span>cpac_install.sh
chmod +x cpac_install.sh
sudo ./cpac_install.sh
</pre></div>
</div>
<p>This will install all of the prerequisites and resources listed below. If you have previously installed versions of these, they will not be reinstalled, and the script will not check the release version to match the requirements of C-PAC.</p>
<p><strong>Note</strong>: This script is intended for Ubuntu Linux 12/14,  but it may work for older releases of Ubuntu.</p>
<p><strong>For other operating systems</strong>, this page will guide you through the following C-PAC installation steps:</p>
<ul class="simple">
<li>Installing the required system-level dependencies</li>
<li>Installing the required Python dependencies</li>
<li>Installing AFNI and FSL</li>
<li>Installing C3D and ANTS (optional, but recommended)</li>
<li>Installing the required C-PAC image resources</li>
<li>Installing C-PAC itself</li>
</ul>
<p>It will also provide information on how to:</p>
<ul class="simple">
<li>Test your installation.</li>
<li>Upgrade C-PAC to a new version.</li>
<li>Run C-PAC without installing.</li>
</ul>
</div>
<div class="section" id="installing-system-level-dependencies">
<h2>Installing System-Level Dependencies<a class="headerlink" href="#installing-system-level-dependencies" title="Permalink to this headline">¶</a></h2>
<p>A complete installation of C-PAC requires that the following dependencies be installed on your OS (and possibly other packages depending on your configuration):</p>
<ul class="simple">
<li>cmake</li>
<li>make</li>
<li>build</li>
<li>git</li>
<li>unzip</li>
<li>libxp</li>
<li>netpbm</li>
<li>gcc (with Fortran and C++ compilers and libgfortran)</li>
<li>The Python developer libraries</li>
<li>lapack and its developer libraries</li>
<li>libcanberra (under Linux)</li>
<li>The Mesa OpenGL utility library</li>
<li>gsl</li>
<li>zlib and its developer libraries</li>
<li><a class="reference external" href="http://www.graphviz.org/">Graphviz</a> (optional; required for workflow graphs)</li>
</ul>
<p>The command to install all of these on Ubuntu 12/14 is:</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get install -y cmake git make unzip libcanberra-gtk-module libxp6 netpbm libglu1-mesa gsl-bin zlib1g-dev graphviz graphviz-dev pkg-config build-essential
</pre></div>
</div>
<div class="section" id="os-specific-instructions">
<h3>OS-Specific Instructions<a class="headerlink" href="#os-specific-instructions" title="Permalink to this headline">¶</a></h3>
<p><strong>Mac OS X:</strong></p>
<ul class="simple">
<li>Installing system-level and Python dependencies will be made much easier if you download the <a class="reference external" href="https://developer.apple.com/downloads/index.action">Xcode Command Line Tools from Apple</a> (requires a free Apple account), which includes (among other things) Git and gcc.</li>
<li>You may want to consider using a package manager such as <a class="reference external" href="http://brew.sh/">Homebrew</a>, <a class="reference external" href="https://www.macports.org/">Macports</a>, or <a class="reference external" href="http://www.finkproject.org/">Fink</a>.</li>
</ul>
<p><strong>Ubuntu 16.04:</strong></p>
<ul class="simple">
<li>The apt-get command used for Ubuntu 12/14 works with <em>libxp6</em> omitted. Unfortunately, libxp is no longer included in the Ubuntu repositories and will need to be compiled from source.  The commands to accomplish this are as follows (note that these commands must be executed as the root user).</li>
</ul>
<div class="highlight-bash"><div class="highlight"><pre>apt-get install autoconf autogen xutils-dev x11proto-print-dev
<span class="nb">cd</span> /tmp
git clone https://anongit.freedesktop.org/git/xorg/lib/libXp.git
<span class="nb">cd </span>libXp
./autogen.sh
configure
make
make install
</pre></div>
</div>
</div>
</div>
<div class="section" id="installing-python-dependencies">
<h2>Installing Python Dependencies<a class="headerlink" href="#installing-python-dependencies" title="Permalink to this headline">¶</a></h2>
<p>Please ensure that you are using Python 2.7 and above, but not Python 3 (since it is not backwards-compatible). Though many computers come with Python pre-installed, C-PAC relies on a number of special-purpose packages, which are listed below. Packages with an asterisk can be installed through <a class="reference external" href="https://pythonhosted.org/setuptools/easy_install.html">easy_install</a> or pip.  Installing <a class="reference external" href="https://store.continuum.io/cshop/anaconda/">Anaconda</a> (<strong>64-bit version only</strong>), <a class="reference external" href="http://conda.pydata.org/miniconda.html">Miniconda</a> or  <a class="reference external" href="https://www.enthought.com/products/canopy/">Enthought Canopy</a> and using a package manager can simplify installation greatly.  Instructions for Miniconda are given below.</p>
<ul class="simple">
<li><a class="reference external" href="http://www.scipy.org/install.html">SciPy and NumPy</a></li>
<li>Nipype (version 0.11 is compatible with C-PAC 0.3.9; version 0.10 is compatible with versions of C-PAC after 0.3.7, <a class="reference external" href="https://github.com/FCP-INDI/nipype/releases/tag/v0.9.2_cpac_tested">version 0.9.2</a> for C-PAC versions 0.3.4b, 0.3.5, and 0.3.6; version 0.12 of nipype is not compatible with the currently release versions of C-PAC)</li>
<li>Nibabel</li>
<li><a class="reference external" href="http://networkx.lanl.gov/">NetworkX</a> *</li>
<li><a class="reference external" href="https://github.com/enthought/traits">Traits</a> *</li>
<li><a class="reference external" href="http://matplotlib.sourceforge.net/">Matplotlib</a> *</li>
<li><a class="reference external" href="http://www.wxpython.org/">wxPython</a></li>
<li><a class="reference external" href="http://pyyaml.org/wiki/PyYAML">PyYAML</a> *</li>
<li><a class="reference external" href="http://jinja.pocoo.org/docs/intro/#installation">Jinja2</a> *</li>
<li><a class="reference external" href="https://code.google.com/p/pylockfile/">PyLockfile</a> *</li>
<li><a class="reference external" href="http://www.cython.org/">Cython</a> (version 12.1 or greater)  *</li>
<li><a class="reference external" href="http://ipython.org/">iPython</a> (optional)</li>
<li><a class="reference external" href="http://www.graphviz.org/">PyGraphviz</a> (optional; required for workflow graphs)</li>
<li><a class="reference external" href="https://patsy.readthedocs.org/en/latest/">Patsy</a></li>
<li><a class="reference external" href="https://boto3.readthedocs.org/en/latest/">Boto 3</a></li>
<li><a class="reference external" href="https://github.com/giampaolo/psutil">psutil</a></li>
</ul>
<div class="section" id="id1">
<h3>Miniconda<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The following commands will install all the Python dependencies within a Miniconda environment:</p>
<div class="highlight-bash"><div class="highlight"><pre>wget http://repo.continuum.io/miniconda/Miniconda-3.8.3-Linux-x86_64.sh
chmod +x Miniconda-3.8.3-Linux-x86_64.sh
./Miniconda-3.8.3-Linux-x86_64.sh -b
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>~/miniconda/bin:<span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>
<span class="nb">echo</span> <span class="s1">&#39;export PATH=~/miniconda/bin:${PATH}&#39;</span> &gt;&gt; ~/.bashrc
conda create -y -n cpac python
<span class="nb">source </span>activate cpac
conda install -y cython numpy scipy matplotlib networkx traits pyyaml jinja2 nose ipython pip wxpython
pip install lockfile pygraphviz nibabel <span class="nv">nipype</span><span class="o">==</span>0.11 patsy psutil boto3
<span class="nb">source </span>deactivate
</pre></div>
</div>
</div>
<div class="section" id="id2">
<h3>OS-Specific Instructions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><strong>Mac OS X:</strong></p>
<ul class="simple">
<li>It is highly recommended that you use either Canopy or Anaconda/Miniconda to install Python packages such as wxPython, SciPy and NumPy.  Manually installing these packages on OS X can be difficult and error-prone.  If you use Anaconda/Conda, the commands above should install all packages seamlessly (assuming you download the Mac OS X Miniconda install script instead of the Linux script when using <cite>wget</cite>).</li>
</ul>
</div>
</div>
<div class="section" id="installing-afni-and-fsl">
<h2>Installing AFNI and FSL<a class="headerlink" href="#installing-afni-and-fsl" title="Permalink to this headline">¶</a></h2>
<p>C-PAC harnesses the power of two leading neuroimaging software packages (<a class="reference external" href="http://afni.nimh.nih.gov/">AFNI</a> and <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/">FSL</a>) to perform key analyses. These packages must be installed before running C-PAC.</p>
<p>For instructions on how to install AFNI, <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/HOWTO/howto/ht00_inst/html/">click here</a>.</p>
<p>For instructions on how to install FSL, <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsl/fslwiki/FslInstallation">click here</a>. Users should ensure they download and install FSL -5.0.</p>
<div class="section" id="check-afni-and-fsl-paths">
<h3>Check AFNI and FSL Paths<a class="headerlink" href="#check-afni-and-fsl-paths" title="Permalink to this headline">¶</a></h3>
<p>Application paths for AFNI and FSL should have been added to your user profile when they were installed, but it is useful to double-check this before continuing (as the absence of these paths is a common cause of C-PAC errors). If the application paths have been set properly, you should be able to open AFNI and FSL by running the commands <tt class="docutils literal"><span class="pre">afni</span></tt> and <tt class="docutils literal"><span class="pre">fsl</span></tt> in a new terminal window.</p>
<p>If either of these commands fail, you will have to add the AFNI and FSL application paths manually. To do this, run the command <tt class="docutils literal"><span class="pre">nano</span> <span class="pre">~/.bashrc</span></tt>. This will open your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> file in the <a class="reference external" href="http://mintaka.sdsu.edu/reu/nano.html">nano text editor</a>.  If you are using the C shell instead of bash, replace <tt class="docutils literal"><span class="pre">.bashrc</span></tt> with <tt class="docutils literal"><span class="pre">.cshrc</span></tt>. Scroll to the bottom of the file (navigate using the arrow keys on your keyboard) and paste the following text</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="c"># Path to FSL</span>
<span class="nv">FSLDIR</span><span class="o">=</span>/path/to/fsl
. <span class="k">${</span><span class="nv">FSLDIR</span><span class="k">}</span>/etc/fslconf/fsl.sh
<span class="nv">PATH</span><span class="o">=</span><span class="k">${</span><span class="nv">FSLDIR</span><span class="k">}</span>/bin:<span class="k">${</span><span class="nv">PATH</span><span class="k">}</span>
<span class="nb">export </span>FSLDIR PATH

<span class="c"># Path to AFNI</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/path/to/afni
<span class="nb">export </span><span class="nv">DYLD_FALLBACK_LIBRARY_PATH</span><span class="o">=</span>/path/to/afni
</pre></div>
</div>
<p>Where <tt class="file docutils literal"><span class="pre">/path/to/fsl</span></tt> and <tt class="file docutils literal"><span class="pre">/path/to/afni</span></tt> are the locations where FSL and AFNI are installed (by default, these are <tt class="file docutils literal"><span class="pre">/usr/local/fsl</span></tt> for FSL and <tt class="file docutils literal"><span class="pre">~/abin</span></tt> for AFNI). When you have added the paths, save your changes (control + O) and exit nano (control + X).</p>
<p>To confirm that the changes have worked, open a new terminal window and try again to open AFNI and FSL.</p>
</div>
<div class="section" id="id6">
<h3>OS-Specific Instructions<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p><strong>Ubuntu/Neurodebian:</strong></p>
<ul>
<li><p class="first">Installing the key for the Neurodebian repository (must have superuser privileges or use sudo):</p>
<div class="highlight-python"><pre>wget -O- http://neuro.debian.net/lists/$(lsb_release -cs).us-nh.full | tee /etc/apt/sources.list.d/neurodebian.sources.list
apt-key adv --recv-keys --keyserver pgp.mit.edu 2649A5A9
apt-get update</pre>
</div>
</li>
<li><p class="first">FSL : <tt class="docutils literal"><span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">-y</span> <span class="pre">fsl-5.0-complete</span></tt></p>
</li>
</ul>
<p>We have encountered compatibility issues in the past with the Neurodebian binary for AFNI.  For this reason, it is suggested that you follow the official installation instructions from the AFNI homepage (see above).</p>
<p><strong>Mac OS X:</strong></p>
<ul>
<li><p class="first">FSL - Follow the instructions on the <a class="reference external" href="http://fsl.fmrib.ox.ac.uk/fsldownloads/fsldownloadmain.html">FSL Download Page</a>.</p>
</li>
<li><p class="first">AFNI - Follow the instructions to do a <a class="reference external" href="http://afni.nimh.nih.gov/pub/dist/HOWTO/howto/ht00_inst/html/mac_10.78.html">Basic Install</a>.</p>
</li>
<li><p class="first">Checking the AFNI and FSL paths - You must also add these paths to both your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> and <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt> files. The best way to go about this is to follow the instructions above and then add the follow lines to <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt>:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span class="k">if</span> <span class="o">[</span> -f ~/.bashrc <span class="o">]</span>; <span class="k">then</span>
<span class="k">    </span><span class="nb">source</span> ~/.bashrc
<span class="k">fi</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="installing-c3d-and-ants-optional-but-recommended">
<h2>Installing C3D and ANTS (optional, but recommended)<a class="headerlink" href="#installing-c3d-and-ants-optional-but-recommended" title="Permalink to this headline">¶</a></h2>
<p>ANTS is an optional, but recommended package for performing image registration / normalization.  ANTS depends upon C3D, which can be installed by following the steps below.  If you do not want to install ANTS, you may skip this step.  You can always install ANTS later.</p>
<div class="section" id="installing-c3d">
<h3>Installing C3D<a class="headerlink" href="#installing-c3d" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li>Download C3D from <a class="reference external" href="http://sourceforge.net/projects/c3d/">here</a> or <a class="reference external" href="http://www.nitrc.org/frs/downloadlink.php/1327">here</a> (for Mac users).</li>
<li>Unzip the downloaded archive, and place the extracted folder in the location of your choosing.</li>
<li>Add the following text to your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> file:</li>
</ol>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/path_to/C3D/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>Where <tt class="file docutils literal"><span class="pre">/path_to/C3D</span></tt> is the location of the extracted folder.</p>
<ol class="arabic simple">
<li>Open a new terminal window. Test your installation by running <tt class="file docutils literal"><span class="pre">c3d_affine_tool</span></tt>. If this fails, see the <cite>Troubleshooting</cite> section below.</li>
</ol>
<p><strong>Troubleshooting:</strong></p>
<ul class="simple">
<li>If you are given a permissions error, run <tt class="file docutils literal"><span class="pre">chmod</span> <span class="pre">-R</span> <span class="pre">/path_to/X</span></tt>, where X is the folder of the package giving you the error.</li>
<li>If you have added the paths to your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> (and <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt> if necessary) but you are still unable to run the commands above, try adding or removing a trailing / from the paths (e.g. <tt class="file docutils literal"><span class="pre">../bin</span></tt> vs. <tt class="file docutils literal"><span class="pre">../bin/</span></tt>). We are working to compile a list of which platforms require the slash and which do not.</li>
</ul>
</div>
<div class="section" id="installing-ants">
<h3>Installing ANTS<a class="headerlink" href="#installing-ants" title="Permalink to this headline">¶</a></h3>
<p>To install ANTS, follow the instructions below. Note: All paths used in the instructions are examples.  Custom paths may be used  according to your needs.</p>
<p>Download ANTS from Github and switch the repository branch to the version tested with C-PAC by running these commands from terminal:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /tmp
git clone https://github.com/stnava/ANTs.git
</pre></div>
</div>
<p>This will create a folder named &#8220;ANTS&#8221; in the directory where you ran the command from.</p>
<p>Next, create a new directory in a location of your choosing and navigate to it:</p>
<div class="highlight-bash"><div class="highlight"><pre>mkdir /opt/ants
<span class="nb">cd</span> /opt/ants
</pre></div>
</div>
<p>Next, run these commands from this directory to build your ANTS install:</p>
<div class="highlight-bash"><div class="highlight"><pre>cmake -c -g /tmp/ANTS
make -j &lt;number&gt;
</pre></div>
</div>
<p>Where &lt;number&gt; is how many cores you wish to dedicate to building your install - the more you use, the sooner it will complete. For example, if you want to use four cores, you would run &#8216;make -j 4&#8217;.</p>
<p>Once this is complete, you will need to modify your environment. Add the following text to your <tt class="file docutils literal"><span class="pre">.bashrc</span></tt> file:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">export </span><span class="nv">ANTSPATH</span><span class="o">=</span>/opt/ants/bin
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span>/opt/ants/bin:<span class="nv">$PATH</span>
</pre></div>
</div>
<p>You can test the installation by opening a new terminal window and running this command:</p>
<div class="highlight-bash"><div class="highlight"><pre>antsApplyTransforms
</pre></div>
</div>
<p>If this returns a help page with a list of parameters, your ANTS installation was a success.</p>
</div>
<div class="section" id="id8">
<h3>OS-Specific Instructions<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p><strong>Mac OS X:</strong></p>
<ul class="simple">
<li>Similar to the AFNI and FSL path setup, you must also add the C3D and ANTS paths to your <tt class="file docutils literal"><span class="pre">.bash_profile</span></tt> file.</li>
</ul>
</div>
</div>
<div class="section" id="installing-c-pac-image-resources">
<h2>Installing C-PAC Image Resources<a class="headerlink" href="#installing-c-pac-image-resources" title="Permalink to this headline">¶</a></h2>
<p>During preprocessing and analysis, C-PAC utilizes many of the standard brain atlases and tissue maps provided by FSL. Additionally, C-PAC requires the following non-standard files in order to run properly:</p>
<ul class="simple">
<li>Binarized tissue prior probability maps (used during <a class="reference internal" href="anat.html"><em>tissue segmentation</em></a>)</li>
<li>Symmetric versions of the MNI152 brain template and masks (used when calculating <a class="reference internal" href="vmhc.html"><em>VMHC</em></a>)</li>
</ul>
<p>These files are included in the C-PAC Image Resources package, available <a class="reference external" href="http://fcon_1000.projects.nitrc.org/indi/cpac_resources.tgz">here</a>. You may install these files using the following commands or use the included script (install_resources.sh):</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /tmp
wget http://fcon_1000.projects.nitrc.org/indi/cpac_resources.tgz
tar xfz cpac_resources.tgz
<span class="nb">cd </span>cpac_image_resources
cp -n MNI_3mm/* <span class="nv">$FSLDIR</span>/data/standard
cp -n symmetric/* <span class="nv">$FSLDIR</span>/data/standard
cp -nr tissuepriors/2mm <span class="nv">$FSLDIR</span>/data/standard/tissuepriors
cp -nr tissuepriors/3mm <span class="nv">$FSLDIR</span>/data/standard/tissuepriors
cp -n HarvardOxford-lateral-ventricles-thr25-2mm.nii.gz <span class="nv">$FSLDIR</span>/data/atlases/HarvardOxford
</pre></div>
</div>
<p>These commands perform the following steps:</p>
<ul class="simple">
<li>The image resources are downloaded.</li>
<li>Files located in the <tt class="file docutils literal"><span class="pre">/symmetric</span></tt> folder of the C-PAC Image Resources directory are copied to the <tt class="file docutils literal"><span class="pre">/data/standard</span></tt> directory of your FSL installation.</li>
<li>The <tt class="file docutils literal"><span class="pre">/2mm</span></tt> and <tt class="file docutils literal"><span class="pre">/3mm</span></tt> folders located in C-PAC Image Resources directory are copied to <tt class="file docutils literal"><span class="pre">/data/standard/tissuepriors</span></tt> directory of your FSL installation.</li>
</ul>
</div>
<div class="section" id="id10">
<h2>Installing C-PAC<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<p>Congratulations, you are now ready to install C-PAC itself!</p>
<p>C-PAC is available for download from the <a class="reference external" href="http://fcp-indi.github.com/">C-PAC Homepage</a>. Click the button labeled &#8220;Download as tar.gz&#8221;. Unpack the downloaded archive and navigate to the new directory. To install C-PAC, run the command <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">install</span></tt>. C-PAC will be installed alongside your other python packages. If this fails, check to make sure that you have all the dependencies installed.  You may also install C-PAC using the commands below:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span class="nb">cd</span> /tmp
git clone https://github.com/FCP-INDI/C-PAC.git
<span class="nb">cd </span>C-PAC
python setup.py install
</pre></div>
</div>
</div></blockquote>
<div class="section" id="testing-your-c-pac-installation">
<h3>Testing Your C-PAC Installation<a class="headerlink" href="#testing-your-c-pac-installation" title="Permalink to this headline">¶</a></h3>
<p>In a new terminal window, open iPython (or Python) and enter the command <tt class="docutils literal"><span class="pre">import</span> <span class="pre">CPAC</span></tt>. If installation was successful, this will execute without an error and present you with a blank new line. If you encounter an error (e.g. <tt class="docutils literal"><span class="pre">no</span> <span class="pre">module</span> <span class="pre">named</span> <span class="pre">C-PAC</span></tt>), try re-running the C-PAC install command above. If this does not work, see the <a class="reference internal" href="help.html"><em>Troubleshooting and Help Page</em></a>.  Note that if you do not open a new terminal window and are still within the C-PAC installation directory (&#8216;C-PAC&#8217;), you may encounter errors that can be alleviated by leaving the &#8216;C-PAC&#8217; directory.</p>
<p>Once you are able to successfully <tt class="docutils literal"><span class="pre">import</span> <span class="pre">CPAC</span></tt> it is safe to delete any setup files downloaded during the install process (e.g. Nipype and C-PAC downloads, FSL install scripts, etc.), as they are no longer needed.</p>
<p><strong>Note:</strong> The test process described here only acts to confirm that the C-PAC python package has been correctly installed. To fully test C-PAC on your system, please see the <a class="reference internal" href="benchmark.html"><em>Benchmark Page</em></a>.</p>
</div>
</div>
<div class="section" id="updating-c-pac">
<h2>Updating C-PAC<a class="headerlink" href="#updating-c-pac" title="Permalink to this headline">¶</a></h2>
<p>C-PAC is being actively developed, and new versions (containing bug fixes and new features) are often released. To update to the latest version, simply download it from the <a class="reference external" href="http://fcp-indi.github.com/">C-PAC Homepage</a> and repeat the instructions in the <cite>Installing C-PAC</cite> section above. A list of previous versions and the changes they contain is available on the <a class="reference internal" href="rnotes.html"><em>Release Notes Page</em></a>.</p>
<p><strong>Note: If you are using Anaconda/Miniconda you may also use the following command (replacing &#8216;cpac&#8217; with your environment name) to remove an old environment before creating a new environment to replace it.</strong></p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>conda remove --all -n cpac
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="running-c-pac-without-installing">
<h2>Running C-PAC Without Installing<a class="headerlink" href="#running-c-pac-without-installing" title="Permalink to this headline">¶</a></h2>
<p>Users wishing to run C-PAC without installing it can do so by copying the downloaded C-PAC directory to the location of their choice. C-PAC can then be run by opening iPython (or Python) from within this directory. This is useful in cases where a user does not have sufficient privileges to install Python packages, but is running on a machine that already contains all C-PAC dependencies.</p>
<p>Some network centrality features will not be available without compiling the C-based elements. In order to do this without installing the rest of C-PAC, simply use the following command</p>
<div class="highlight-bash"><div class="highlight"><pre>python setup.py build_ext --inplace
</pre></div>
</div>
<p><strong>Note:</strong> Unfortunately, it is not possible at this time to use the C-PAC GUI without installing C-PAC.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/cpac_logo.jpg" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Installing C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="subject_list_config.html">Setting Up A Subject List</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipeline_config.html">Setting Up A Pipeline Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_analysis.html">Setting Up Group Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="running.html">Running C-PAC</a></li>
<li class="toctree-l1"><a class="reference internal" href="cloud.html">Using C-PAC in the AWS Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="files.html">Preconfigured Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="benchmark.html">C-PAC Benchmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="help.html">Troubleshooting and Help</a></li>
<li class="toctree-l1"><a class="reference internal" href="rnotes.html">Release Notes</a></li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="subject_list_config.html" title="Setting Up A Subject List"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to C-PAC’s Documentation!"
             >previous</a> |</li>
        <li><a href="index.html">C-PAC 0.3.9 Alpha documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, C-PAC Team.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>